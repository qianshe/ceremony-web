# 丧葬服务管理系统接口文档


**简介**:丧葬服务管理系统接口文档


**HOST**:http://localhost:8080


**联系人**:开发团队


**Version**:1.0


**接口路径**:/v3/api-docs


[TOC]






# 商品查询接口


## 分页查询商品列表


**接口地址**:`/api/products`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||
|page|页码|query|false|integer(int32)||
|size|每页数量|query|false|integer(int32)||
|category|商品类别|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Page«Product»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Page«Product»|Page«Product»|
|&emsp;&emsp;countId||string||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;maxLimit||integer(int64)||
|&emsp;&emsp;optimizeCountSql||boolean||
|&emsp;&emsp;orders||array|OrderItem|
|&emsp;&emsp;&emsp;&emsp;asc||boolean||
|&emsp;&emsp;&emsp;&emsp;column||string||
|&emsp;&emsp;pages||integer(int64)||
|&emsp;&emsp;records||array|Product|
|&emsp;&emsp;&emsp;&emsp;category|商品分类|integer||
|&emsp;&emsp;&emsp;&emsp;categoryId|分类ID|integer||
|&emsp;&emsp;&emsp;&emsp;createTime||string||
|&emsp;&emsp;&emsp;&emsp;deleted||integer||
|&emsp;&emsp;&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;&emsp;&emsp;id|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;&emsp;&emsp;isEnabled|商品状态：0-下架 1-上架|boolean||
|&emsp;&emsp;&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;price|商品价格|number||
|&emsp;&emsp;&emsp;&emsp;stock|库存数量|integer||
|&emsp;&emsp;&emsp;&emsp;subCategory|商品子分类|string||
|&emsp;&emsp;&emsp;&emsp;updateTime||string||
|&emsp;&emsp;&emsp;&emsp;version||integer||
|&emsp;&emsp;searchCount||boolean||
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;total||integer(int64)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"countId": "",
		"current": 0,
		"maxLimit": 0,
		"optimizeCountSql": true,
		"orders": [
			{
				"asc": true,
				"column": ""
			}
		],
		"pages": 0,
		"records": [
			{
				"category": 0,
				"categoryId": 1,
				"createTime": "",
				"deleted": 0,
				"description": "高品质寿衣",
				"id": 1,
				"imageUrl": "",
				"isEnabled": false,
				"name": "寿衣",
				"price": 1999.99,
				"stock": 100,
				"subCategory": "寿衣",
				"updateTime": "",
				"version": 0
			}
		],
		"searchCount": true,
		"size": 0,
		"total": 0
	},
	"message": "操作成功"
}
```


## 获取所有分类


**接口地址**:`/api/products/categories`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«Category»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|array|Category|
|&emsp;&emsp;createdTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;name||string||
|&emsp;&emsp;sort||integer(int32)||
|&emsp;&emsp;type||integer(int32)||
|&emsp;&emsp;updatedTime||string(date-time)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": [
		{
			"createdTime": "",
			"deleted": 0,
			"id": 0,
			"name": "",
			"sort": 0,
			"type": 0,
			"updatedTime": ""
		}
	],
	"message": "操作成功"
}
```


## 获取分类详情


**接口地址**:`/api/products/categories/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|分类ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Category»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Category|Category|
|&emsp;&emsp;createdTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;name||string||
|&emsp;&emsp;sort||integer(int32)||
|&emsp;&emsp;type||integer(int32)||
|&emsp;&emsp;updatedTime||string(date-time)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"createdTime": "",
		"deleted": 0,
		"id": 0,
		"name": "",
		"sort": 0,
		"type": 0,
		"updatedTime": ""
	},
	"message": "操作成功"
}
```


## 获取推荐商品列表


**接口地址**:`/api/products/recommend`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|type|商品类型：0-白事，1-红事|query|true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«Product»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|array|Product|
|&emsp;&emsp;category|商品分类|integer(int32)||
|&emsp;&emsp;categoryId|分类ID|integer(int64)||
|&emsp;&emsp;createTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;id|商品ID|integer(int64)||
|&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;isEnabled|商品状态：0-下架 1-上架|boolean||
|&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;price|商品价格|number(bigdecimal)||
|&emsp;&emsp;stock|库存数量|integer(int32)||
|&emsp;&emsp;subCategory|商品子分类|string||
|&emsp;&emsp;updateTime||string(date-time)||
|&emsp;&emsp;version||integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": [
		{
			"category": 0,
			"categoryId": 1,
			"createTime": "",
			"deleted": 0,
			"description": "高品质寿衣",
			"id": 1,
			"imageUrl": "",
			"isEnabled": false,
			"name": "寿衣",
			"price": 1999.99,
			"stock": 100,
			"subCategory": "寿衣",
			"updateTime": "",
			"version": 0
		}
	],
	"message": "操作成功"
}
```


## 获取商品详情


**接口地址**:`/api/products/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|商品ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Product»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Product|Product|
|&emsp;&emsp;category|商品分类|integer(int32)||
|&emsp;&emsp;categoryId|分类ID|integer(int64)||
|&emsp;&emsp;createTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;id|商品ID|integer(int64)||
|&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;isEnabled|商品状态：0-下架 1-上架|boolean||
|&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;price|商品价格|number(bigdecimal)||
|&emsp;&emsp;stock|库存数量|integer(int32)||
|&emsp;&emsp;subCategory|商品子分类|string||
|&emsp;&emsp;updateTime||string(date-time)||
|&emsp;&emsp;version||integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"category": 0,
		"categoryId": 1,
		"createTime": "",
		"deleted": 0,
		"description": "高品质寿衣",
		"id": 1,
		"imageUrl": "",
		"isEnabled": false,
		"name": "寿衣",
		"price": 1999.99,
		"stock": 100,
		"subCategory": "寿衣",
		"updateTime": "",
		"version": 0
	},
	"message": "操作成功"
}
```


# 扫码授权接口


## 处理微信服务器的回调


**接口地址**:`/api/admin/qrcode/callback`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 生成扫码登录二维码


**接口地址**:`/api/admin/qrcode/generate`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Map«string,string»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|object||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {},
	"message": "操作成功"
}
```


## 管理员轮询获取扫码结果


**接口地址**:`/api/admin/qrcode/poll/{scene}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|scene|scene|path|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«用户授权信息»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|用户授权信息|用户授权信息|
|&emsp;&emsp;avatarUrl|用户头像|string||
|&emsp;&emsp;nickName|用户昵称|string||
|&emsp;&emsp;openId|微信openId|string||
|&emsp;&emsp;phoneNumber|手机号|string||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"avatarUrl": "",
		"nickName": "",
		"openId": "",
		"phoneNumber": ""
	},
	"message": "操作成功"
}
```


# 流程步骤接口


## 获取流程步骤详细信息


**接口地址**:`/api/process/step-details/{stepId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|stepId|步骤ID|path|true|integer(int32)||
|type|流程类型：0-白事，1-红事|query|true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«ProcessStepDetailVO»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|ProcessStepDetailVO|ProcessStepDetailVO|
|&emsp;&emsp;description|步骤描述|string||
|&emsp;&emsp;id|步骤ID|integer(int64)||
|&emsp;&emsp;productList|关联商品列表|array|ProductVO|
|&emsp;&emsp;&emsp;&emsp;category|商品分类：0-白事，1-红事|integer||
|&emsp;&emsp;&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;&emsp;&emsp;id|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;price|商品价格|number||
|&emsp;&emsp;&emsp;&emsp;stock|商品库存|integer||
|&emsp;&emsp;sort|排序号|integer(int32)||
|&emsp;&emsp;stepName|步骤名称|string||
|&emsp;&emsp;type|流程类型：0-白事，1-红事|integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"description": "专业人员上门接运遗体",
		"id": 1,
		"productList": [
			{
				"category": 0,
				"description": "高档花圈，适用于各类丧葬场合",
				"id": 1,
				"imageUrl": "https://example.com/images/huaquan.jpg",
				"name": "花圈-标准款",
				"price": 199.99,
				"stock": 100
			}
		],
		"sort": 1,
		"stepName": "遗体接运",
		"type": 0
	},
	"message": "操作成功"
}
```


## 获取流程步骤


**接口地址**:`/api/process/steps`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|type|流程类型：0-白事，1-红事|query|true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«ProcessStepVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|array|ProcessStepVO|
|&emsp;&emsp;description|步骤描述|string||
|&emsp;&emsp;id|步骤ID|integer(int64)||
|&emsp;&emsp;sort|排序号|integer(int32)||
|&emsp;&emsp;stepName|步骤名称|string||
|&emsp;&emsp;type|流程类型：0-白事，1-红事|integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": [
		{
			"description": "专业人员上门接运遗体",
			"id": 1,
			"sort": 1,
			"stepName": "遗体接运",
			"type": 0
		}
	],
	"message": "操作成功"
}
```


# 用户订单接口


## 创建订单


**接口地址**:`/api/orders`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "address": "",
  "contactName": "",
  "contactPhone": "",
  "deliveryType": 0,
  "items": [
    {
      "productId": 0,
      "quantity": 0
    }
  ],
  "remark": "",
  "serviceTime": "",
  "userId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|订单信息|订单信息|body|true|订单信息|订单信息|
|&emsp;&emsp;address|服务地址||false|string||
|&emsp;&emsp;contactName|联系人姓名||false|string||
|&emsp;&emsp;contactPhone|联系人电话||false|string||
|&emsp;&emsp;deliveryType|配送方式：0-自提，1-配送||false|integer(int32)||
|&emsp;&emsp;items|订单商品列表||false|array|订单商品信息|
|&emsp;&emsp;&emsp;&emsp;productId|商品ID||false|integer||
|&emsp;&emsp;&emsp;&emsp;quantity|购买数量||false|integer||
|&emsp;&emsp;remark|备注||false|string||
|&emsp;&emsp;serviceTime|服务时间||false|string(date-time)||
|&emsp;&emsp;userId|用户ID||false|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«string»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|string||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": "",
	"message": "操作成功"
}
```


## 查询用户订单列表


**接口地址**:`/api/orders/user/{userId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userId|用户ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||
|page|页码|query|false|integer(int32)||
|size|每页数量|query|false|integer(int32)||
|orderStatus|订单状态|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Page«订单列表项»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Page«订单列表项»|Page«订单列表项»|
|&emsp;&emsp;countId||string||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;maxLimit||integer(int64)||
|&emsp;&emsp;optimizeCountSql||boolean||
|&emsp;&emsp;orders||array|OrderItem|
|&emsp;&emsp;&emsp;&emsp;asc||boolean||
|&emsp;&emsp;&emsp;&emsp;column||string||
|&emsp;&emsp;pages||integer(int64)||
|&emsp;&emsp;records||array|订单列表项|
|&emsp;&emsp;&emsp;&emsp;contactName|联系人姓名|string||
|&emsp;&emsp;&emsp;&emsp;createdTime|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;orderNo|订单编号|string||
|&emsp;&emsp;&emsp;&emsp;serviceTime|服务时间|string||
|&emsp;&emsp;&emsp;&emsp;status|订单状态：0-待支付 1-已支付 2-已取消 3-已退款|integer||
|&emsp;&emsp;&emsp;&emsp;totalAmount|订单总金额|number||
|&emsp;&emsp;searchCount||boolean||
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;total||integer(int64)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"countId": "",
		"current": 0,
		"maxLimit": 0,
		"optimizeCountSql": true,
		"orders": [
			{
				"asc": true,
				"column": ""
			}
		],
		"pages": 0,
		"records": [
			{
				"contactName": "",
				"createdTime": "",
				"orderNo": "",
				"serviceTime": "",
				"status": 0,
				"totalAmount": 0
			}
		],
		"searchCount": true,
		"size": 0,
		"total": 0
	},
	"message": "操作成功"
}
```


## 获取订单详情


**接口地址**:`/api/orders/{orderNo}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|path|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«订单详情»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|订单详情|订单详情|
|&emsp;&emsp;address|服务地址|string||
|&emsp;&emsp;contactName|联系人姓名|string||
|&emsp;&emsp;contactPhone|联系人电话|string||
|&emsp;&emsp;createdTime|创建时间|string(date-time)||
|&emsp;&emsp;items|商品列表|array|订单商品信息0|
|&emsp;&emsp;&emsp;&emsp;productId|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;productName|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;productPrice|商品价格|number||
|&emsp;&emsp;&emsp;&emsp;quantity|购买数量|integer||
|&emsp;&emsp;&emsp;&emsp;subtotal|小计金额|number||
|&emsp;&emsp;orderNo|订单编号|string||
|&emsp;&emsp;remark|备注|string||
|&emsp;&emsp;serviceTime|服务时间|string(date-time)||
|&emsp;&emsp;status|订单状态：0-待支付 1-已支付 2-已取消 3-已退款|integer(int32)||
|&emsp;&emsp;totalAmount|订单总金额|number(bigdecimal)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"address": "",
		"contactName": "",
		"contactPhone": "",
		"createdTime": "",
		"items": [
			{
				"productId": 0,
				"productName": "",
				"productPrice": 0,
				"quantity": 0,
				"subtotal": 0
			}
		],
		"orderNo": "",
		"remark": "",
		"serviceTime": "",
		"status": 0,
		"totalAmount": 0
	},
	"message": "操作成功"
}
```


## 绑定订单


**接口地址**:`/api/orders/{orderNo}/bind`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|path|true|string||
|userId|用户ID|query|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 取消订单


**接口地址**:`/api/orders/{orderNo}/cancel`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|path|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 支付订单


**接口地址**:`/api/orders/{orderNo}/pay`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|path|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


# 管理员-商品管理接口


## 分页查询商品列表


**接口地址**:`/api/admin/products`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||
|page|页码|query|false|integer(int32)||
|size|每页数量|query|false|integer(int32)||
|categoryId|商品类别|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Page«Product»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Page«Product»|Page«Product»|
|&emsp;&emsp;countId||string||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;maxLimit||integer(int64)||
|&emsp;&emsp;optimizeCountSql||boolean||
|&emsp;&emsp;orders||array|OrderItem|
|&emsp;&emsp;&emsp;&emsp;asc||boolean||
|&emsp;&emsp;&emsp;&emsp;column||string||
|&emsp;&emsp;pages||integer(int64)||
|&emsp;&emsp;records||array|Product|
|&emsp;&emsp;&emsp;&emsp;category|商品分类|integer||
|&emsp;&emsp;&emsp;&emsp;categoryId|分类ID|integer||
|&emsp;&emsp;&emsp;&emsp;createTime||string||
|&emsp;&emsp;&emsp;&emsp;deleted||integer||
|&emsp;&emsp;&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;&emsp;&emsp;id|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;&emsp;&emsp;isEnabled|商品状态：0-下架 1-上架|boolean||
|&emsp;&emsp;&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;price|商品价格|number||
|&emsp;&emsp;&emsp;&emsp;stock|库存数量|integer||
|&emsp;&emsp;&emsp;&emsp;subCategory|商品子分类|string||
|&emsp;&emsp;&emsp;&emsp;updateTime||string||
|&emsp;&emsp;&emsp;&emsp;version||integer||
|&emsp;&emsp;searchCount||boolean||
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;total||integer(int64)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"countId": "",
		"current": 0,
		"maxLimit": 0,
		"optimizeCountSql": true,
		"orders": [
			{
				"asc": true,
				"column": ""
			}
		],
		"pages": 0,
		"records": [
			{
				"category": 0,
				"categoryId": 1,
				"createTime": "",
				"deleted": 0,
				"description": "高品质寿衣",
				"id": 1,
				"imageUrl": "",
				"isEnabled": false,
				"name": "寿衣",
				"price": 1999.99,
				"stock": 100,
				"subCategory": "寿衣",
				"updateTime": "",
				"version": 0
			}
		],
		"searchCount": true,
		"size": 0,
		"total": 0
	},
	"message": "操作成功"
}
```


## 新增商品


**接口地址**:`/api/admin/products`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "categoryId": 0,
  "description": "",
  "id": 0,
  "image": "",
  "name": "",
  "price": 0,
  "status": 0,
  "stock": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|商品信息|商品信息|body|true|商品信息|商品信息|
|&emsp;&emsp;categoryId|分类ID||false|integer(int64)||
|&emsp;&emsp;description|商品描述||false|string||
|&emsp;&emsp;id|商品ID||false|integer(int64)||
|&emsp;&emsp;image|商品图片URL||false|string||
|&emsp;&emsp;name|商品名称||false|string||
|&emsp;&emsp;price|商品价格||false|number(bigdecimal)||
|&emsp;&emsp;status|商品状态||false|integer(int32)||
|&emsp;&emsp;stock|库存数量||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 获取所有分类


**接口地址**:`/api/admin/products/categories`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«Category»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|array|Category|
|&emsp;&emsp;createdTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;name||string||
|&emsp;&emsp;sort||integer(int32)||
|&emsp;&emsp;type||integer(int32)||
|&emsp;&emsp;updatedTime||string(date-time)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": [
		{
			"createdTime": "",
			"deleted": 0,
			"id": 0,
			"name": "",
			"sort": 0,
			"type": 0,
			"updatedTime": ""
		}
	],
	"message": "操作成功"
}
```


## 新增商品分类


**接口地址**:`/api/admin/products/categories`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "name": "",
  "sort": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|商品分类信息|商品分类信息|body|true|商品分类信息|商品分类信息|
|&emsp;&emsp;name|分类名称||false|string||
|&emsp;&emsp;sort|排序号||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 获取分类详情


**接口地址**:`/api/admin/products/categories/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|分类ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Category»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Category|Category|
|&emsp;&emsp;createdTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;name||string||
|&emsp;&emsp;sort||integer(int32)||
|&emsp;&emsp;type||integer(int32)||
|&emsp;&emsp;updatedTime||string(date-time)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"createdTime": "",
		"deleted": 0,
		"id": 0,
		"name": "",
		"sort": 0,
		"type": 0,
		"updatedTime": ""
	},
	"message": "操作成功"
}
```


## 修改商品分类


**接口地址**:`/api/admin/products/categories/{id}`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "name": "",
  "sort": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|分类ID|path|true|integer(int64)||
|商品分类信息|商品分类信息|body|true|商品分类信息|商品分类信息|
|&emsp;&emsp;name|分类名称||false|string||
|&emsp;&emsp;sort|排序号||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 删除商品分类


**接口地址**:`/api/admin/products/categories/{id}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|分类ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 更新商品库存


**接口地址**:`/api/admin/products/updateStock`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "delta": 0,
  "productId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|库存更新参数|库存更新参数|body|true|库存更新参数|库存更新参数|
|&emsp;&emsp;delta|库存变化量||false|integer(int32)||
|&emsp;&emsp;productId|商品ID||false|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 获取商品详情


**接口地址**:`/api/admin/products/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|商品ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Product»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Product|Product|
|&emsp;&emsp;category|商品分类|integer(int32)||
|&emsp;&emsp;categoryId|分类ID|integer(int64)||
|&emsp;&emsp;createTime||string(date-time)||
|&emsp;&emsp;deleted||integer(int32)||
|&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;id|商品ID|integer(int64)||
|&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;isEnabled|商品状态：0-下架 1-上架|boolean||
|&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;price|商品价格|number(bigdecimal)||
|&emsp;&emsp;stock|库存数量|integer(int32)||
|&emsp;&emsp;subCategory|商品子分类|string||
|&emsp;&emsp;updateTime||string(date-time)||
|&emsp;&emsp;version||integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"category": 0,
		"categoryId": 1,
		"createTime": "",
		"deleted": 0,
		"description": "高品质寿衣",
		"id": 1,
		"imageUrl": "",
		"isEnabled": false,
		"name": "寿衣",
		"price": 1999.99,
		"stock": 100,
		"subCategory": "寿衣",
		"updateTime": "",
		"version": 0
	},
	"message": "操作成功"
}
```


## 修改商品


**接口地址**:`/api/admin/products/{id}`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "categoryId": 0,
  "description": "",
  "id": 0,
  "image": "",
  "name": "",
  "price": 0,
  "status": 0,
  "stock": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|商品ID|path|true|integer(int64)||
|商品信息|商品信息|body|true|商品信息|商品信息|
|&emsp;&emsp;categoryId|分类ID||false|integer(int64)||
|&emsp;&emsp;description|商品描述||false|string||
|&emsp;&emsp;id|商品ID||false|integer(int64)||
|&emsp;&emsp;image|商品图片URL||false|string||
|&emsp;&emsp;name|商品名称||false|string||
|&emsp;&emsp;price|商品价格||false|number(bigdecimal)||
|&emsp;&emsp;status|商品状态||false|integer(int32)||
|&emsp;&emsp;stock|库存数量||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 删除商品


**接口地址**:`/api/admin/products/{id}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|商品ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


# 管理员-流程管理接口


## 获取流程步骤列表


**接口地址**:`/api/admin/process/steps`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|type|流程类型：0-白事，1-红事|query|true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«ProcessStepVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|array|ProcessStepVO|
|&emsp;&emsp;description|步骤描述|string||
|&emsp;&emsp;id|步骤ID|integer(int64)||
|&emsp;&emsp;sort|排序号|integer(int32)||
|&emsp;&emsp;stepName|步骤名称|string||
|&emsp;&emsp;type|流程类型：0-白事，1-红事|integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": [
		{
			"description": "专业人员上门接运遗体",
			"id": 1,
			"sort": 1,
			"stepName": "遗体接运",
			"type": 0
		}
	],
	"message": "操作成功"
}
```


## 创建流程步骤


**接口地址**:`/api/admin/process/steps`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "description": "专业人员上门接运遗体",
  "productIds": "[1,2,3]",
  "sort": 1,
  "stepName": "遗体接运",
  "type": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|processStepCreateDTO|流程步骤创建DTO|body|true|ProcessStepCreateDTO|ProcessStepCreateDTO|
|&emsp;&emsp;description|步骤描述||false|string||
|&emsp;&emsp;productIds|关联商品ID列表||false|array|integer|
|&emsp;&emsp;sort|排序号||false|integer(int32)||
|&emsp;&emsp;stepName|步骤名称||true|string||
|&emsp;&emsp;type|流程类型：0-白事，1-红事||true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|boolean||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": false,
	"message": "操作成功"
}
```


## 更新流程步骤


**接口地址**:`/api/admin/process/steps/{stepId}`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "description": "专业人员上门接运遗体",
  "productIds": "[1,2,3]",
  "sort": 1,
  "stepName": "遗体接运",
  "type": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|stepId|步骤ID|path|true|integer(int64)||
|processStepUpdateDTO|流程步骤更新DTO|body|true|ProcessStepUpdateDTO|ProcessStepUpdateDTO|
|&emsp;&emsp;description|步骤描述||false|string||
|&emsp;&emsp;productIds|关联商品ID列表||false|array|integer|
|&emsp;&emsp;sort|排序号||false|integer(int32)||
|&emsp;&emsp;stepName|步骤名称||false|string||
|&emsp;&emsp;type|流程类型：0-白事，1-红事||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|boolean||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": false,
	"message": "操作成功"
}
```


## 删除流程步骤


**接口地址**:`/api/admin/process/steps/{stepId}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|stepId|步骤ID|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«boolean»|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|boolean||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": false,
	"message": "操作成功"
}
```


## 获取流程步骤详情


**接口地址**:`/api/admin/process/steps/{stepId}/detail`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|stepId|步骤ID|path|true|integer(int32)||
|type|流程类型：0-白事，1-红事|query|true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«ProcessStepDetailVO»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|ProcessStepDetailVO|ProcessStepDetailVO|
|&emsp;&emsp;description|步骤描述|string||
|&emsp;&emsp;id|步骤ID|integer(int64)||
|&emsp;&emsp;productList|关联商品列表|array|ProductVO|
|&emsp;&emsp;&emsp;&emsp;category|商品分类：0-白事，1-红事|integer||
|&emsp;&emsp;&emsp;&emsp;description|商品描述|string||
|&emsp;&emsp;&emsp;&emsp;id|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;imageUrl|商品图片URL|string||
|&emsp;&emsp;&emsp;&emsp;name|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;price|商品价格|number||
|&emsp;&emsp;&emsp;&emsp;stock|商品库存|integer||
|&emsp;&emsp;sort|排序号|integer(int32)||
|&emsp;&emsp;stepName|步骤名称|string||
|&emsp;&emsp;type|流程类型：0-白事，1-红事|integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"description": "专业人员上门接运遗体",
		"id": 1,
		"productList": [
			{
				"category": 0,
				"description": "高档花圈，适用于各类丧葬场合",
				"id": 1,
				"imageUrl": "https://example.com/images/huaquan.jpg",
				"name": "花圈-标准款",
				"price": 199.99,
				"stock": 100
			}
		],
		"sort": 1,
		"stepName": "遗体接运",
		"type": 0
	},
	"message": "操作成功"
}
```


## 调整流程步骤排序


**接口地址**:`/api/admin/process/steps/{stepId}/sort`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|stepId|步骤ID|path|true|integer(int64)||
|sort|新的排序值|query|true|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|boolean||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": false,
	"message": "操作成功"
}
```


# 管理员-订单管理接口


## 查询所有订单


**接口地址**:`/api/admin/orders`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||
|page|页码|query|false|integer(int32)||
|size|每页数量|query|false|integer(int32)||
|orderStatus|订单状态|query|false|integer(int64)||
|userId|用户ID|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Page«订单列表项»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|Page«订单列表项»|Page«订单列表项»|
|&emsp;&emsp;countId||string||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;maxLimit||integer(int64)||
|&emsp;&emsp;optimizeCountSql||boolean||
|&emsp;&emsp;orders||array|OrderItem|
|&emsp;&emsp;&emsp;&emsp;asc||boolean||
|&emsp;&emsp;&emsp;&emsp;column||string||
|&emsp;&emsp;pages||integer(int64)||
|&emsp;&emsp;records||array|订单列表项|
|&emsp;&emsp;&emsp;&emsp;contactName|联系人姓名|string||
|&emsp;&emsp;&emsp;&emsp;createdTime|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;orderNo|订单编号|string||
|&emsp;&emsp;&emsp;&emsp;serviceTime|服务时间|string||
|&emsp;&emsp;&emsp;&emsp;status|订单状态：0-待支付 1-已支付 2-已取消 3-已退款|integer||
|&emsp;&emsp;&emsp;&emsp;totalAmount|订单总金额|number||
|&emsp;&emsp;searchCount||boolean||
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;total||integer(int64)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"countId": "",
		"current": 0,
		"maxLimit": 0,
		"optimizeCountSql": true,
		"orders": [
			{
				"asc": true,
				"column": ""
			}
		],
		"pages": 0,
		"records": [
			{
				"contactName": "",
				"createdTime": "",
				"orderNo": "",
				"serviceTime": "",
				"status": 0,
				"totalAmount": 0
			}
		],
		"searchCount": true,
		"size": 0,
		"total": 0
	},
	"message": "操作成功"
}
```


## 创建管理员订单


**接口地址**:`/api/admin/orders`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "address": "",
  "contactName": "",
  "contactPhone": "",
  "deliveryType": 0,
  "items": [
    {
      "productId": 0,
      "quantity": 0
    }
  ],
  "remark": "",
  "serviceTime": "",
  "userId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|订单信息|订单信息|body|true|订单信息|订单信息|
|&emsp;&emsp;address|服务地址||false|string||
|&emsp;&emsp;contactName|联系人姓名||false|string||
|&emsp;&emsp;contactPhone|联系人电话||false|string||
|&emsp;&emsp;deliveryType|配送方式：0-自提，1-配送||false|integer(int32)||
|&emsp;&emsp;items|订单商品列表||false|array|订单商品信息|
|&emsp;&emsp;&emsp;&emsp;productId|商品ID||false|integer||
|&emsp;&emsp;&emsp;&emsp;quantity|购买数量||false|integer||
|&emsp;&emsp;remark|备注||false|string||
|&emsp;&emsp;serviceTime|服务时间||false|string(date-time)||
|&emsp;&emsp;userId|用户ID||false|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«string»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|string||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": "",
	"message": "操作成功"
}
```


## 获取小程序二维码


**接口地址**:`/api/admin/orders/api/wechat/qrcode`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|query|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## getUserInfo


**接口地址**:`/api/admin/orders/api/wechat/userinfo`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 导出订单数据


**接口地址**:`/api/admin/orders/export`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||
|startTime|开始时间|query|false|string(date-time)||
|endTime|结束时间|query|false|string(date-time)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 获取订单统计信息


**接口地址**:`/api/admin/orders/statistics`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||
|startTime|开始时间|query|false|string(date-time)||
|endTime|结束时间|query|false|string(date-time)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«订单统计信息»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|订单统计信息|订单统计信息|
|&emsp;&emsp;averageOrderAmount|平均客单价|number(bigdecimal)||
|&emsp;&emsp;cancelledOrders|已取消订单数|integer(int32)||
|&emsp;&emsp;categorySales|各分类销售额统计|array|CategorySalesDTO|
|&emsp;&emsp;&emsp;&emsp;categoryId|分类ID|integer||
|&emsp;&emsp;&emsp;&emsp;categoryName|分类名称|string||
|&emsp;&emsp;&emsp;&emsp;orderCount|订单数量|integer||
|&emsp;&emsp;&emsp;&emsp;totalAmount|销售总额|number||
|&emsp;&emsp;dailySales|每日订单统计|array|DailySalesDTO|
|&emsp;&emsp;&emsp;&emsp;date|日期|string||
|&emsp;&emsp;&emsp;&emsp;orderCount|订单数|integer||
|&emsp;&emsp;&emsp;&emsp;salesAmount|销售额|number||
|&emsp;&emsp;hotProducts|热销商品Top10|array|ProductSalesDTO|
|&emsp;&emsp;&emsp;&emsp;productId|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;productName|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;salesAmount|销售金额|number||
|&emsp;&emsp;&emsp;&emsp;salesCount|销售数量|integer||
|&emsp;&emsp;hourlyOrderCount|各时段订单量分布|object||
|&emsp;&emsp;paidOrders|已支付订单数|integer(int32)||
|&emsp;&emsp;pendingPaymentOrders|待支付订单数|integer(int32)||
|&emsp;&emsp;totalIncome|总收入|number(bigdecimal)||
|&emsp;&emsp;totalOrders|总订单数|integer(int32)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"averageOrderAmount": 0,
		"cancelledOrders": 0,
		"categorySales": [
			{
				"categoryId": 0,
				"categoryName": "",
				"orderCount": 0,
				"totalAmount": 0
			}
		],
		"dailySales": [
			{
				"date": "",
				"orderCount": 0,
				"salesAmount": 0
			}
		],
		"hotProducts": [
			{
				"productId": 0,
				"productName": "",
				"salesAmount": 0,
				"salesCount": 0
			}
		],
		"hourlyOrderCount": {},
		"paidOrders": 0,
		"pendingPaymentOrders": 0,
		"totalIncome": 0,
		"totalOrders": 0
	},
	"message": "操作成功"
}
```


## 获取订单详情


**接口地址**:`/api/admin/orders/{orderNo}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|path|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«订单详情»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|订单详情|订单详情|
|&emsp;&emsp;address|服务地址|string||
|&emsp;&emsp;contactName|联系人姓名|string||
|&emsp;&emsp;contactPhone|联系人电话|string||
|&emsp;&emsp;createdTime|创建时间|string(date-time)||
|&emsp;&emsp;items|商品列表|array|订单商品信息0|
|&emsp;&emsp;&emsp;&emsp;productId|商品ID|integer||
|&emsp;&emsp;&emsp;&emsp;productName|商品名称|string||
|&emsp;&emsp;&emsp;&emsp;productPrice|商品价格|number||
|&emsp;&emsp;&emsp;&emsp;quantity|购买数量|integer||
|&emsp;&emsp;&emsp;&emsp;subtotal|小计金额|number||
|&emsp;&emsp;orderNo|订单编号|string||
|&emsp;&emsp;remark|备注|string||
|&emsp;&emsp;serviceTime|服务时间|string(date-time)||
|&emsp;&emsp;status|订单状态：0-待支付 1-已支付 2-已取消 3-已退款|integer(int32)||
|&emsp;&emsp;totalAmount|订单总金额|number(bigdecimal)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"address": "",
		"contactName": "",
		"contactPhone": "",
		"createdTime": "",
		"items": [
			{
				"productId": 0,
				"productName": "",
				"productPrice": 0,
				"quantity": 0,
				"subtotal": 0
			}
		],
		"orderNo": "",
		"remark": "",
		"serviceTime": "",
		"status": 0,
		"totalAmount": 0
	},
	"message": "操作成功"
}
```


## 生成订单二维码


**接口地址**:`/api/admin/orders/{orderNo}/qrcode`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderNo|订单号|path|true|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«string»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|string||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": "",
	"message": "操作成功"
}
```


# 认证接口


## 手机号登录


**接口地址**:`/api/auth/phone/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "code": "",
  "password": "",
  "phone": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|手机号登录请求参数|手机号登录请求参数|body|true|手机号登录请求参数|手机号登录请求参数|
|&emsp;&emsp;code|验证码||false|string||
|&emsp;&emsp;password|密码||false|string||
|&emsp;&emsp;phone|手机号||false|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«登录结果»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|登录结果|登录结果|
|&emsp;&emsp;openid|微信openid|string||
|&emsp;&emsp;role|用户角色：0-普通用户，1-管理员|integer(int32)||
|&emsp;&emsp;token|JWT令牌|string||
|&emsp;&emsp;userId|用户ID|integer(int64)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"openid": "",
		"role": 0,
		"token": "",
		"userId": 0
	},
	"message": "操作成功"
}
```


## 微信小程序登录


**接口地址**:`/api/auth/wx/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "code": "",
  "userInfo": {
    "avatarUrl": "",
    "gender": 0,
    "nickName": ""
  }
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|微信登录参数|微信登录参数|body|true|微信登录参数|微信登录参数|
|&emsp;&emsp;code|微信临时登录凭证||false|string||
|&emsp;&emsp;userInfo|用户信息||false|WxUserInfo|WxUserInfo|
|&emsp;&emsp;&emsp;&emsp;avatarUrl|头像URL||false|string||
|&emsp;&emsp;&emsp;&emsp;gender|性别||false|integer||
|&emsp;&emsp;&emsp;&emsp;nickName|昵称||false|string||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«登录结果»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|登录结果|登录结果|
|&emsp;&emsp;openid|微信openid|string||
|&emsp;&emsp;role|用户角色：0-普通用户，1-管理员|integer(int32)||
|&emsp;&emsp;token|JWT令牌|string||
|&emsp;&emsp;userId|用户ID|integer(int64)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": {
		"openid": "",
		"role": 0,
		"token": "",
		"userId": 0
	},
	"message": "操作成功"
}
```


# 购物车接口


## 添加商品到购物车


**接口地址**:`/api/cart/add`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "productId": 0,
  "quantity": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|cartDTO|购物车数据传输对象|body|true|CartDTO|CartDTO|
|&emsp;&emsp;productId|商品ID||false|integer(int64)||
|&emsp;&emsp;quantity|商品数量||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 清空购物车


**接口地址**:`/api/cart/clear`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 获取购物车商品列表


**接口地址**:`/api/cart/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization|Bearer token|header|false|||
|userId|userId|query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«List«CartItemVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|data|返回数据|array|CartItemVO|
|&emsp;&emsp;price|商品单价|number(bigdecimal)||
|&emsp;&emsp;productId|商品ID|integer(int64)||
|&emsp;&emsp;productImage|商品图片|string||
|&emsp;&emsp;productName|商品名称|string||
|&emsp;&emsp;quantity|商品数量|integer(int32)||
|&emsp;&emsp;totalPrice|商品总价|number(bigdecimal)||
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"data": [
		{
			"price": 0,
			"productId": 0,
			"productImage": "",
			"productName": "",
			"quantity": 0,
			"totalPrice": 0
		}
	],
	"message": "操作成功"
}
```


## 更新购物车商品数量


**接口地址**:`/api/cart/update`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "productId": 0,
  "quantity": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|cartDTO|购物车数据传输对象|body|true|CartDTO|CartDTO|
|&emsp;&emsp;productId|商品ID||false|integer(int64)||
|&emsp;&emsp;quantity|商品数量||false|integer(int32)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```


## 从购物车移除商品


**接口地址**:`/api/cart/{productId}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|productId|productId|path|true|integer(int64)||
|Authorization|Bearer token|header|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result«Void»|
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|integer(int32)|integer(int32)|
|message|返回消息|string||


**响应示例**:
```javascript
{
	"code": 200,
	"message": "操作成功"
}
```